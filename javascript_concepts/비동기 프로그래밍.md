# 비동기 프로그래밍

## 비동기 함수란?

호출한 쪽에서 리턴을 기다리지 않는 함수.  

자바스크립트는 싱글쓰레드로 동작합니다. 때문에 네트워크 요청처럼 오래걸리는 작업이 동기적으로 동작한다면 페이지의 UI가 반응하지 않을 수 있습니다. 이러한 문제를 해결하기 위해서 비동기함수를 활용합니다.

  

## 비동기 코드의 동작을 설명해보세요.

스크립트에서 비동기 함수를 호출하면, 콜백함수를 태스크큐로 넘깁니다. 이벤트루프는 콜스택과 태스크큐를 지켜보고 있다가, 콜스택이 비워지면, 태스크큐에 대기하고 있는 콜백함수를 콜스택에 올립니다. 이 과정을 반복합니다.



## Promise란 무엇이며 코드가 어떻게 구성되어 있나요?

콜백함수를 활용한 비동기 코드 보다 코드를 좀 더 직관적으로 작성하게 해주는 api입니다.  

프로미스는 생성자함수로서 콜백함수를 인자로 받고 프로미스 객체를 리턴합니다.  
콜백함수는 resolve, reject라는 함수 파라미터를 갖습니다.  
콜백함수 내에서 함수가 정상처리된 경우에는 resolve 함수를 호출하고, 실패한 경우는 reject 함수를 호출하도록 작성합니다.  
Promise.then 메서드에 함수를 전달하여 정상처리된 경우의 후속처리를 할 수 있습니다.  
Promise.catch 메서드에 함수를 전달하여 실패처리된 경우의 후속처리를 할 수 있습니다.  
프로미스의 모든 메서드는 프로미스를 리턴하기 때문에 체이닝이 가능합니다.  

## Promise의 장단점에 대해 설명해보세요.

### 프로미스의 장점

-  콜백을 활용한 비동기 코드에 비해 코드가 좀 더 직관적입니다.(가독성이 좋음)

### 프로미스의 단점

- then메서드 안에 break point를 설정할 수 없습니다.

- 들여쓰기가 발생합니다.

- 에러핸들링 코드가 중복될 수 있습니다.

  - 일반적으로 자바스크립트 코드의 에러핸들링은 try/catch문으로 이루어집니다.
  - 반면 프로미스는 catch메서드를 이용해서 핸들링해야합니다.

  

    

## Async, Await에 대해 설명해주세요.

프로미스의 단점을 개선하기 위한 키워드입니다.  
비동기 코드를 마치 동기 코드처럼 보이게 작성할 수 있습니다.  
비동기 코드가 포함된 함수 앞에 async 키워드를 붙이고, 비동기 코드 앞에 await을 붙여서 결과를 기다릴 수 있습니다.  
await 키워드는 resolve된 값을 리턴하거나 reject된 값을 throw합니다.



------

## 헷갈렸던 부분

### 콜백함수 그 자체로는 비동기 코드가 아니다

- 콜백함수는 단순히 어떤 함수에 인자로 넘겨준 함수를 의미한다.

- 다만, 콜백을 이용한 비동기 코드가 존재한다. (ex: setTimeout)

  ```javascript
  setTimeout(function() {console.log('async!')}, 1000)
  ```

  

------

## reference

- https://www.daleseo.com/js-async-async-await/
