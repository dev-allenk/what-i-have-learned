# 3월 4주차 회고

## 세웠던 계획, 달성도

- 타입스크립트 튜토리얼 따라하기 - 70%
- 타입스크립트 핸드북 읽기 - (진행중) 매주 일정분량 읽기
- connect flavor Postuploader 리팩토링 - 보류
- (추가) useMiddleware hook 작성 - 100%

## 잘한 점, 배운 점

- 코드샌드박스에서 작업하다가 무한루프에 빠지면 작업한 내용이 다 날아갈 수 있다는 점을 배웠다.(하하)

- 미들웨어라는 개념에 대한 이해  
  Express와 Redux에서 쓰이는 미들웨어라는 개념이 그동안 너무 생소하고 이해가 가지 않았는데 useFetch 리팩토링 한것을 살펴보다가 미들웨어 개념에 대해 이해하게 됐다.  
  한마디로 정리하자면, ‘미들웨어는 큰 로직 속에서 자유롭게 교체 가능한 작은 로직이다.’라고 정리할 수 있을 것 같다.  
  미들웨어 사이의 입력과 출력 인터페이스를 동일한 형식으로만 맞춰준다면 이런 방식의 코딩이 가능하다는 점을 배웠다.

- useAsyncAction -> useMiddleware hook 리팩  
  미들웨어 개념을 활용해서 useMiddleware hook을 작성했다.  
  기존에 비동기로직을 분리하기 위해 사용했던 useAsyncAction hook은 액션 함수를 동기/비동기 2가지 형태로 작성하게 되어서 일관성이 약간 떨어지는 문제점이 존재했다. 이것을 미들웨어 개념을 사용하면 개선할 수 있을 거라 예상했고 리팩토링하고나니 아주 만족스러웠다.  
  앞으로 구현이 완료되어서 잘 동작하는 코드라고 하더라도 아쉬운 점이 있었다면 잘 기억해두고 적어두어야겠다. 이번처럼 우연히 좋은 아이디어를 접하게 되었을 때 연결지을 수 있다면 꽤 괜찮은 결과물을 얻을지도 모르니.

- Redux middleware에 대한 이해  
  useMiddleware hook을 작성하면서 리덕스 미들웨어를 많이 참고했다.  
  리덕스는 비동기를 다루는 다양한 미들웨어가 존재하는데 주로 redux-thunk와 redux-saga가 많이 사용된다고 한다.  
  사용해본적이 없어서 무슨 차이가 있는지 몰랐는데 이번에 ‘미들웨어’라는게 어떤식으로 사용되는지 살펴보다보니 대략적인 동작 방식을 이해할 수 있었다.  
  요약하자면, 리덕스는 기본적으로 dispatch > action > reducer 의 흐름으로 데이터가 이동하는데,  
  redux-thunk는 action 단계를 비동기로 처리하는 방식이고,  
  redux-saga는 action 단계 뒤에 saga가 비동기로직을 핸들링하는 단계를 추가해서
  dispatch > action > saga > reducer 의 흐름으로 데이터가 이동한다.

## 어려웠던 점

1. 미들웨어 이어지게 하는 것
2. 액션 타입에 관계없이 항상 동작하는 미들웨어 작성하는 것  
   -> 둘 다 구현상 어려웠던 점이긴 한데, 함수형 프로그래밍을 배우면 이런 경우처럼 ‘데이터를 다루는 로직’을 작성하는데에 편리하겠다는 생각이 많이 들었다. 값을 다루는데에 약간 다른 시각이 생기는 듯한 느낌. 타입스크립트 공부하고나서 함수형 공부해봐야겠다.

## 개선할 점

- 요즘 자꾸 루즈해짐.. 목표를 확고하게 다잡고 좀 더 밀도 있게 공부하자.

## 다음주 계획

- react-useMiddleware-hook npm 배포
- react-useMiddlware-hook example 작성
- react-useMiddlware-hook readme 작성
- react-native 튜토리얼 학습
- 사이드프로젝트 - time-is-money 개발

#회고
