# 3월 1주차 회고

## 세웠던 계획, 달성도

- 프로필 수정 시 변경된 내용만 보내는 기능 추가 - 100%
- 프로필 수정 시 email 유효성 검사 추가 - 100%
- ReactDOMServer를 이용한 SSR 학습 - 0%
- connect flavor에 SSR적용 - 0%
- (추가) 데브매칭 대비 바닐라로 코드 짜는 법 공부하기 - 계속 진행중

## 잘한 점, 배운 점

- useFetch 다시 리팩토링!  
  useFetch에 기능이 추가되면서 가독성이 현저하게 떨어지는 느낌이 들어서 리팩토링했다.  
  리팩토링 과정에서 useFetch의 역할과 목적을 단순하면서도 명확하게 정의한 점, 현재 상황을 정확하게 파악한 점이 문제 해결에 큰 도움이 되었다.  
  막연히 생각만으로 정리하는게 아니라 글로 적어가면서 정리하니 한결 수월하게 풀어나갈 수 있었다.  
  역시 설계가 중요해! 의식적으로 설계하도록 노력해야겠다.

```jsx
const { loading, requestFetch } = useFetch({
  onFetch: nickname => checkNicknameOnServer(nickname),
  onSuccess: setNicknameAvailable,
  onError: {
    400: setNicknameHasBlanks,
    409: setNicknameAlreadyInUse,
    500: setValidationServerError
  }
});
```

useFetch 결과물! 깔끔 뿌듯 :)

- handleResponse 유틸함수 작성  
  useFetch를 사용하는 것은 ‘로딩 상태를 필요로 하는 경우’로 한정지어야 한다는 생각이 들었다. 상태가 자꾸 변경되면서 렌더링이 많이 발생하기 때문.  
  로딩 상태에 따라 추가 적인 작업이 필요 없는 경우라면 그냥 일반적인 fetch함수를 작성하는 편이 좋겠다는 생각이 들었고, 이런 경우에 활용할 수 있는 유틸함수를 작성했다.  
  성능 관련 고민은 대체로 제일 나중 문제이지만 이런 고민은 좋은 경험인 것 같다.

* 함수는 값이다!  
  함수를 값으로 다루는데에 많이 익숙해졌다. 그리고 함수를 리턴하는 함수는 클로저를 통해 값을 바인딩하는 용도로 활용하기 좋다는 사실을 알게되었다.  
  덕분에 예전에는 조금 낯설었던 bind메서드도 이젠 정말 완벽하게 이해했다.

```javascript
  delegate(this.deleteTodo.bind(this))
    .to(this.el)
    .when(‘click’)
    .className(‘deleteBtn’);
```

이젠 이런것도 만들 수 있다 ㅎㅎ

## 어려웠던 점

- 의욕 저하.. 왠지 코로나 때문에 의도적으로 외출을 자제하다보니까 더 무기력해지는 것 같다. 컨디션관리가 필요해..

## 개선할 점

- 지나친 추상화는 오히려 코드품질을 떨어뜨린다.  
  useFetch에 이것저것 기능을 넣다보니 useFetch가 점점 비대해지고 복잡해졌다. 뭔가 불편함을 느껴서 리팩토링한 결과 다시 만족스러운 합의점을 찾아냈지만, 중복을 줄이기 위해서, 함수를 재사용하기 위해서 추상화를 하다보면 자칫 지나치게 복잡한 코드(스파게티..)를 만들게 된다는 것을 경험했다.  
  사용의 편리함과 가독성의 중간 어디즈음을 만족시킬 수 있는 길을 찾도록 의식해야겠다.

- 멘탈관리는 피지컬로.  
  어떤 정신과 전문의 유튜버가 이런 말을 했다. ‘멘탈관리는 멘탈로 하는게 아니다. 피지컬로 하는 것이다’. 구체적으로는 하루 3끼 잘 먹고, 하루 7시간 잘 자고, 매일 조금이라도 운동을 하라는 것. 신체적인 컨디션에 따라 생각과 감정도 바뀐다는 것.  
  확실히 내 생활을 돌아보면 운동 안 할 때가 감정이 많이 다운되는 시기였던 것 같다. 움직이자! (코로나야.. 이제 그만 보고 싶다..)

## 다음주 계획

- 바닐라로 캐러셀, 모달 컴포넌트 만들어 보기
- connect flavor post uploader 리팩토링
- connect flavor에 SSR적용하기
- 데브매칭 코테 잘 보기 :)
