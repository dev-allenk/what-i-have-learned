# 3월 3주차 회고

## 세웠던 계획, 달성도

- connect flavor PostUploader 리팩 - 10%
- connect flavor SSR 적용 - 보류
- 바닐라 컴포넌트 리팩 - 100%
- (추가) connect flavor useFetch 리팩, api call 분리 - 100%

## 잘한 점, 배운 점

- 데브매칭 문제 다시 풀어본 것  
  이미 지나간 일이긴 하지만 공부삼아서 다시 풀어봤다. 못해서 아쉬웠던 부분을 끝까지 해내는데에 중점을 뒀고 결국 해냈다. 이번에도 시간 내에 하지는 못했지만 그래도 꽤 얻은게 있었으니 참 잘했다. 다음번엔 더 잘할 수 있겠지 :)

- useFetch 리팩토링  
  2주전에도 리팩했었는데 또 했다. 이번엔 진짜로 거의 라이브러리로 공개해도 좋을 정도로 쓸만한 코드가 나온것 같아서 뿌듯.

- 규모가 조금 큰 함수는 특정한 라이프사이클을 갖는다는 사실을 발견했다.  
  useFetch의 경우 “request > 에러 체크 > response처리 > success” 또는 “request > 에러 체크 > error” 의 라이프사이클을 갖는다. 각 라이프사이클의 단계별로 필요한 동작이 달라지기 때문에 각 단계별로 실행할 함수를 인자로 받는다면 재사용성 높은 함수를 설계할 수 있다는 점을 배웠다. 몇단계의 절차가 필요한 함수를 재사용해야할 경우에 이런 점을 활용할 수 있을 것 같다.

- api call을 분리하는 방법  
  데브매칭에서 제시된 예시코드에서 api를 분리하는 아주 좋은 아이디어가 있어서 그 아이디어를 참고하여 나름의 방법으로 구현했다. 작은 함수로 나누고 필요한 부분을 조합해서 사용하는 컨셉인데 코드를 깔끔하게 유지할 수 있는 아주 좋은 컨셉인듯.  
  덕분에 api를 호출하는 쪽에서는 ‘어떤 메소드를 쓰는지, 토큰이 필요한지’ 등은 신경쓰지 않고 api를 호출할 수 있게 되었다.(관심사 분리!ㅎㅎ)

```javascript
const authAPI = {
  signup: nickname => {
    return request(POST, `/auth/signup`, options(TOKEN, BODY({ nickname })));
  },
  hasLoggedIn: () => {
    return request(GET, `/auth/has-logged-in`, options(TOKEN));
  }
};
const postAPI = {
  getPostDetail: postId => {
    return request(GET, `/post/${postId}`);
  }
};
//지금보니 options인자가 한개인 경우는 options함수를 쓸 필요가 없었군..
```

## 어려웠던 점

- 지나고보니 딱히 어려운건 없었던것 같은..
- 아, useFetch 리팩토링 할 때 좀 더 많은 기능을 넣고 싶었는데 코드의 가독성과 useFetch를 사용하는 패턴의 일관성이 나빠질 것 같아서 포기했다. 기독성, 일관성과 유틸성?의 균형을 맞추는게 좀 어렵게 느껴짐.

## 개선할 점

- 목표를 작게 나누고 타임리밋을 정해가면서 일정을 진행하는 습관을 들여야 할 것 같다.
  왠지 지나치게 여유롭게 걷는 기분..ㅎ 목표를 작게 나누는 것부터가 어렵던데.. 노력해봐야겠다.

## 다음주 계획

- 타입스크립트 튜토리얼 따라하기
- 타입스크립트 핸드북 읽기
- connect flavor Postuploader 리팩토링

#회고
